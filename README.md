# 在线矩阵计算器项目说明

## 一、项目概述
本项目是一个基于 Flask 框架构建的在线矩阵计算器，用户能够输入矩阵的行数和列数，接着输入矩阵元素，最后计算并展示矩阵的多种属性，如秩、行列式、特征值、特征向量、逆矩阵、谱分解、LU 分解以及行最简形等。

## 二、项目结构
```
.
├── app.py
├── matrix_calculator.py
└── templates
    └── index.html
```
1. **`app.py`**：Flask 应用的主文件，负责处理路由和表单提交。
2. **`matrix_calculator.py`**：封装了矩阵计算的相关逻辑，包含矩阵元素解析和各种矩阵属性的计算。
3. **`templates/index.html`**：前端页面模板，提供用户输入界面和计算结果展示。

## 三、功能特性
1. **矩阵输入**：用户可自定义矩阵的行数和列数，动态生成输入框以输入矩阵元素。
2. **输入验证**：对用户输入的行数、列数以及矩阵元素进行验证，确保输入合法。
3. **多种计算**：能计算矩阵的秩、行列式、特征值、特征向量、逆矩阵、谱分解、LU 分解和行最简形。
4. **错误处理**：在计算过程中若出现错误，会向用户显示详细的错误信息。
5. **缓存机制**：采用 `functools.lru_cache` 对矩阵计算结果进行缓存，避免重复计算，提升性能。
6. **美观界面**：运用 Tailwind CSS 和 Font Awesome 打造现代、美观且响应式的用户界面，同时添加图标增强视觉效果。

## 四、运行环境
- **Python 3.9 及以上版本**
- **Flask 框架**
- **SymPy 库**：用于矩阵计算
- **MarkupSafe 库**：用于防止 XSS 攻击

## 五、安装与运行
### 1. 克隆项目
```bash
git clone https://github.com/your-repo/Flask.git
cd Flask
```

### 2. 创建虚拟环境（可选但推荐）
```bash
python -m venv venv
source venv/bin/activate  # 对于 Windows 用户，使用 `venv\Scripts\activate`
```

### 3. 安装依赖
```bash
pip install flask sympy markupsafe
```

### 4. 运行项目
```bash
python app.py
```

### 5. 访问应用
打开浏览器，访问 `http://127.0.0.1:5000` 即可使用在线矩阵计算器。

## 六、使用方法
1. **输入矩阵信息**：在输入框中输入矩阵的行数和列数，点击“生成矩阵输入”按钮，页面会动态生成相应的输入框。
2. **输入矩阵元素**：在生成的输入框中输入矩阵的各个元素。
3. **计算结果**：点击“计算”按钮，系统会对输入的矩阵进行计算，并在页面下方展示计算结果。
4. **查看错误信息**：若输入不合法或计算过程中出现错误，页面会显示相应的错误信息。

## 七、代码优化说明
### 1. 代码结构优化
- 将矩阵计算逻辑封装到 `matrix_calculator.py` 文件中，提高代码的可读性和可维护性。
- 在 `app.py` 中仅处理路由和表单提交，使代码职责更加清晰。

### 2. 性能优化
- 运用 `functools.lru_cache` 对矩阵计算结果进行缓存，减少重复计算，提升性能。

### 3. 用户体验优化
- 在前端页面添加实时输入验证，确保用户输入合法。
- 利用 Tailwind CSS 和 Font Awesome 优化页面布局和样式，添加图标提升视觉效果。

### 4. 安全性优化
- 使用 `MarkupSafe` 对用户输入进行转义，防止 XSS 攻击。

## 八、注意事项
- 输入的矩阵元素可以是整数、分数（如 `1/2`）。
- 部分计算（如特征值、逆矩阵、谱分解、LU 分解）可能因矩阵特性而失败，此时页面会显示相应的错误信息。

## 九、贡献与反馈
如果你在使用过程中遇到问题或有改进建议，欢迎在项目的 GitHub 仓库中提交 issue 或 pull request。我们期待你的参与和反馈，共同完善这个项目！ 
